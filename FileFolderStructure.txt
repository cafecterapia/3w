3w/
├── .env                    # Environment variables
├── .env.example            # Environment variables template
├── .env.local              # Local environment variables (API keys, database URL)
├── .env.vercel-sync.tmp    # Temporary Vercel sync file
├── .eslintrc.json          # ESLint configuration
├── .gitignore              # Git ignore configuration
├── .prettierignore         # Prettier ignore configuration
├── .prettierrc.json        # Prettier configuration
├── build.log               # Build output log
├── cypress.config.ts       # Cypress E2E testing configuration
├── FileFolderStructure.txt # This documentation file
├── next-env.d.ts           # Next.js TypeScript definitions
├── next.config.ts          # Next.js configuration
├── package.json            # Project dependencies and scripts
├── package-lock.json       # Package lock file
├── payment-confirmation-new.txt # New payment confirmation template
├── payment-confirmation-old.txt # Old payment confirmation template  
├── postcss.config.js       # PostCSS configuration (for Tailwind)
├── tailwind.config.js      # Tailwind CSS configuration
├── test-setup.ts           # Test setup configuration
├── tsconfig.json           # TypeScript configuration
├── tsconfig.tsbuildinfo    # TypeScript build info
├── type-test.ts            # TypeScript type testing file
└── vitest.config.ts        # Vitest testing configuration

├── .vscode/
│   ├── settings.json       # VS Code workspace settings
│   └── tasks.json          # VS Code tasks configuration

├── .vercel/                # Vercel deployment configuration
│   └── project.json        # Vercel project configuration

├── certs/                  # SSL certificates for EFI integration
│   ├── producao-810733-3WT.p12        # EFI production certificate
│   └── producao-810733-3WT.p12.b64    # Base64 encoded certificate

├── cypress/                # End-to-end testing with Cypress
│   ├── downloads/          # Downloaded files during tests (empty)
│   ├── e2e/                # E2E test specifications
│   │   ├── auth.cy.ts      # Authentication flow tests
│   │   └── homepage.cy.ts  # Homepage tests
│   ├── fixtures/           # Test data and mock files
│   │   └── example.json
│   ├── support/            # Cypress support files and custom commands
│   │   ├── commands.ts     # Custom Cypress commands
│   │   ├── component.ts    # Component testing setup
│   │   ├── e2e.ts          # E2E testing setup
│   │   └── index.d.ts      # TypeScript definitions for Cypress
│   └── videos/             # Test execution videos
│       ├── .DS_Store       # macOS system file
│       └── auth.cy.ts.mp4  # Recorded test execution

├── prisma/
│   ├── schema.prisma       # Your database schema (models, relations)
│   └── migrations/         # Database migration history
│       ├── migration_lock.toml
│       ├── 20250803021257_initial_setup/
│       │   └── migration.sql
│       ├── 20250803025932_add_password_field/
│       │   └── migration.sql
│       ├── 20250804065656_add_user_role/
│       │   └── migration.sql
│       ├── 20250804100258_add_cpf_field/
│       │   └── migration.sql
│       ├── 20250805000000_add_payment_created_at/
│       │   └── migration.sql
│       ├── 20250806032415_add_qr_code_fields/
│       │   └── migration.sql
│       ├── 20250806144552_add_class_tracking_fields/
│       │   └── migration.sql
│       ├── 20250808142306_add_invoice_model/
│       │   └── migration.sql
│       └── 20250812191050_add_phone_number_field/
│           └── migration.sql

├── public/
│   ├── icons/              # App icons for PWA (empty directory)
│   ├── images/             # Static images like logos or marketing photos (empty directory)
│   ├── manifest.json       # PWA manifest file
│   └── sw.js               # Service Worker for push notifications & offline capabilities

├── scripts/                # Utility scripts
│   ├── check-env.mjs       # Environment validation script
│   ├── create-admin.ts     # Script to create admin users
│   ├── debug-cert.js       # Certificate debugging script
│   ├── run-next-build.cjs  # Next.js build runner script
│   └── update-ngrok-env.mjs # Ngrok environment update script

└── src/
    ├── __tests__/          # Test files
    │   ├── data.test.ts    # Data layer tests
    │   └── components/     # Component tests
    │       └── button.test.tsx # Button component tests
    │
    ├── app/
    │   ├── (admin)/          # Route group for admin pages
    │   │   ├── admin-header.tsx    # Admin header component
    │   │   ├── admin-navigation.tsx # Admin navigation component
    │   │   ├── layout.tsx    # Admin layout wrapper
    │   │   └── admin/        # Admin dashboard and management pages
    │   │       ├── page.tsx  # Main admin dashboard
    │   │       ├── analytics/
    │   │       │   ├── analytics-client.tsx # Client-side analytics component
    │   │       │   └── page.tsx # Analytics dashboard page
    │   │       ├── dashboard/
    │   │       │   ├── dashboard-client.tsx # Client-side dashboard component
    │   │       │   └── page.tsx # Admin dashboard page
    │   │       ├── payments/
    │   │       │   └── page.tsx # Payment management page
    │   │       ├── subscribers/
    │   │       │   ├── page.tsx # Subscriber management page
    │   │       │   └── subscribers-client.tsx # Client-side subscribers component
    │   │       ├── test-efi/
    │   │       │   └── page.tsx # EFI connection testing page
    │   │       └── users/
    │   │           ├── page.tsx # User management page
    │   │           └── users-client.tsx # Client-side users component
    │   │
    │   ├── (auth)/           # Route group for authentication pages
    │   │   ├── login/
    │   │   │   ├── actions.ts
    │   │   │   └── page.tsx
    │   │   ├── register/
    │   │   │   ├── actions.ts
    │   │   │   ├── page.tsx
    │   │   │   └── register-form.tsx
    │   │   └── signout/
    │   │       └── page.tsx
    │   │
    │   ├── (main)/           # Route group for protected, authenticated routes
    │   │   ├── layout.tsx      # Shared layout for the main app (e.g., with sidebar)
    │   │   ├── billing/
    │   │   │   ├── page.tsx    # Page to manage subscription, view invoices
    │   │   │   ├── invoices/
    │   │   │   │   ├── page.tsx # Invoices list page
    │   │   │   │   └── [id]/
    │   │   │   │       └── page.tsx # Individual invoice page
    │   │   │   ├── manage/
    │   │   │   │   ├── page.tsx # Payment management page
    │   │   │   │   ├── payment-management-content.tsx # Client-side payment management content
    │   │   │   │   └── payment-management-provider.tsx # Payment management provider
    │   │   │   ├── pay/
    │   │   │   │   ├── page.tsx # Payment processing page
    │   │   │   │   ├── payment-confirmation.tsx # Payment confirmation component
    │   │   │   │   ├── types.ts # Payment-related TypeScript types
    │   │   │   │   ├── components/
    │   │   │   │   │   ├── BoletoPaymentPanel.tsx # Boleto payment panel
    │   │   │   │   │   ├── CardInlineForm.tsx # Card inline form component
    │   │   │   │   │   ├── CardPaymentPanel.tsx # Card payment panel
    │   │   │   │   │   ├── IdentifyForm.tsx # Identity verification form
    │   │   │   │   │   ├── MethodSelector.tsx # Payment method selector
    │   │   │   │   │   ├── PixPaymentPanel.tsx # PIX payment panel
    │   │   │   │   │   └── ui.tsx # Payment UI components
    │   │   │   │   └── hooks/
    │   │   │   │       ├── usePaymentData.ts # Payment data hook
    │   │   │   │       ├── usePaymentNavGuard.ts # Payment navigation guard hook
    │   │   │   │       ├── usePaymentPolling.ts # Payment polling hook
    │   │   │   │       └── usePaymentState.ts # Payment state management hook
    │   │   │   └── plan/
    │   │   │       └── page.tsx # Plan selection/change page
    │   │   ├── calendar/
    │   │   │   └── page.tsx    # Calendar management page
    │   │   ├── dashboard/
    │   │   │   ├── page.tsx    # Main dashboard after login
    │   │   │   └── subscription-status-widget.tsx # Subscription status widget component
    │   │   ├── profile/
    │   │   │   ├── page.tsx    # User profile page
    │   │   │   └── complete/
    │   │   │       ├── page.tsx # Profile completion page
    │   │   │       └── profile-completion-form.tsx # Profile completion form component
    │   │   ├── settings/
    │   │   │   ├── page.tsx    # User account settings
    │   │   │   └── settings-client.tsx # Client-side settings component
    │   │   └── support/
    │   │       └── page.tsx    # Support page
    │   │
    │   ├── (marketing)/        # Route group for marketing pages
    │   │   ├── layout.tsx      # Marketing layout wrapper
    │   │   └── plans/
    │   │       ├── page.tsx    # Plans/pricing page
    │   │       └── plan-selection-client.tsx # Client-side plan selection component
    │   │
    │   ├── api/                # API Routes (Your Backend-for-Frontend - BFF)
    │   │   ├── admin/
    │   │   │   ├── route.ts    # Admin-related API endpoints
    │   │   │   ├── efi-status/
    │   │   │   │   └── route.ts # EFI status check endpoint
    │   │   │   ├── health/
    │   │   │   │   └── route.ts # Health check endpoint
    │   │   │   ├── test-efi-connection/
    │   │   │   │   └── route.ts # EFI connection testing endpoint
    │   │   │   └── test-subscription/
    │   │   │       └── route.ts # Subscription testing endpoint
    │   │   │
    │   │   ├── auth/
    │   │   │   ├── [...nextauth]/
    │   │   │   │   └── route.ts # Auth.js catch-all route
    │   │   │   └── change-password/
    │   │   │       └── route.ts # Password change endpoint
    │   │   │
    │   │   ├── debug/
    │   │   │   ├── db/
    │   │   │   │   └── route.ts # Database debugging endpoint
    │   │   │   ├── efi-config/
    │   │   │   │   └── route.ts # EFI configuration debugging endpoint
    │   │   │   └── payment-test/
    │   │   │       └── route.ts # Payment testing endpoint
    │   │   │
    │   │   ├── payments/
    │   │   │   ├── billing-settings/
    │   │   │   │   └── route.ts # Billing settings management
    │   │   │   ├── cancel/
    │   │   │   │   └── route.ts # Payment cancellation endpoint
    │   │   │   ├── create-boleto/
    │   │   │   │   └── route.ts # Boleto payment creation endpoint
    │   │   │   ├── create-card/
    │   │   │   │   └── route.ts # Card payment creation endpoint
    │   │   │   ├── create-class-subscription/
    │   │   │   │   └── route.ts # Class subscription creation endpoint
    │   │   │   ├── create-from-profile/
    │   │   │   │   └── route.ts # Payment from profile endpoint
    │   │   │   ├── create-subscription/
    │   │   │   │   └── route.ts # Server-side logic to create a subscription with Efi
    │   │   │   ├── manage-subscription/
    │   │   │   │   └── route.ts # Logic to create a portal link to manage billing
    │   │   │   ├── pay-card/
    │   │   │   │   └── route.ts # Card payment processing endpoint
    │   │   │   ├── payment-methods/
    │   │   │   │   └── route.ts # Payment methods management
    │   │   │   ├── status/
    │   │   │   │   └── route.ts # Payment status endpoint
    │   │   │   └── token-config/
    │   │   │       └── route.ts # Payment token configuration endpoint
    │   │   │
    │   │   ├── profile/
    │   │   │   ├── check/
    │   │   │   │   └── route.ts # Profile validation endpoint
    │   │   │   ├── delete/
    │   │   │   │   └── route.ts # Profile deletion endpoint
    │   │   │   ├── save/
    │   │   │   │   └── route.ts # Profile save endpoint
    │   │   │   └── update/
    │   │   │       └── route.ts # Profile update endpoint
    │   │   │
    │   │   ├── push/
    │   │   │   ├── send-notification/
    │   │   │   │   └── route.ts # Secure endpoint to trigger a push notification
    │   │   │   ├── subscribe/
    │   │   │   │   └── route.ts # Logic to save a user's push subscription
    │   │   │   └── unsubscribe/
    │   │   │       └── route.ts # Push notification unsubscribe endpoint
    │   │   │
    │   │   └── webhooks/
    │   │       └── efi/
    │   │           └── route.ts # Handles incoming webhooks from Efi (e.g., payment success)
    │   │
    │   ├── auth/
    │   │   └── redirect/
    │   │       └── page.tsx  # Authentication redirect handler
    │   │
    │   ├── error.tsx         # Global error page
    │   ├── globals.css       # Global styles for Tailwind CSS
    │   ├── layout.tsx        # Root layout of the entire application
    │   ├── not-found.tsx     # 404 not found page
    │   └── page.tsx          # Your public landing/home page
    │
    ├── components/
    │   ├── providers.tsx     # Context providers (auth, theme, etc.)
    │   │
    │   ├── admin/            # Admin-specific components
    │   │   └── payment-settings-form.tsx # Payment settings form component
    │   │
    │   ├── calendar/         # Calendar-specific components
    │   │   ├── compact-picker.tsx # Compact date picker component
    │   │   ├── day-view.tsx  # Day view calendar component
    │   │   ├── index.ts      # Calendar components barrel exports
    │   │   ├── ui-components.tsx # Calendar UI components
    │   │   └── week-view.tsx # Week view calendar component
    │   │
    │   ├── ui/               # Reusable, generic UI components (Button, Card, Input, etc.)
    │   │   ├── button.tsx
    │   │   ├── card.tsx
    │   │   └── index.ts
    │   │
    │   ├── features/         # Components for specific features
    │   │   ├── billing-portal.tsx
    │   │   ├── pricing-widget.tsx
    │   │   ├── push-notification-settings.tsx
    │   │   └── subscription-status.tsx
    │   │
    │   └── layout/           # Major layout components
    │       ├── index.ts
    │       ├── mobile-navigation.tsx
    │       └── profile-menu.tsx
    │
    ├── hooks/
    │   ├── use-push-manager.ts # Custom hook to manage PWA push notification logic
    │   └── use-subscription.ts # Custom hook to get current user's subscription status
    │
    ├── lib/
    │   ├── admin-utils.ts    # Admin-specific utility functions
    │   ├── auth.ts           # Auth.js configuration and options
    │   ├── billing.ts        # Billing and subscription utility functions
    │   ├── calendar-utils.ts # Calendar utility functions
    │   ├── data.ts           # Data access layer and utility functions
    │   ├── efi.ts            # Efi SDK initialization and helper functions
    │   ├── pricing-constants.ts # Pricing plans and constants
    │   ├── prisma.ts         # Prisma client instance (singleton for performance)
    │   ├── useActionState.ts # Custom useActionState hook
    │   └── utils.ts          # Utility functions (e.g., formatting dates, currency)
    │
    └── types/
        ├── calendar.ts       # Calendar-related TypeScript types
        ├── index.ts          # Global TypeScript types (e.g., for subscription plans)
        └── next-auth.d.ts    # NextAuth type definitions